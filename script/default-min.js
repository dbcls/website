function dispLoading(e){$(".main__contents").append("<div id='loading'><img src='/img/loading.gif' /></div>")}function removeLoading(){$("#loading").remove()}var script=document.createElement("script"),script_sticky=document.createElement("script"),link_favicon=document.createElement("link"),tags={public_relations:"広報",services:"サービス",events:"イベント",registration:"募集",other:"その他"};script.setAttribute("src","https://code.jquery.com/jquery-3.2.1.min.js"),script_sticky.setAttribute("src","/script/stickyfill.min.js"),link_favicon.setAttribute("rel","icon"),link_favicon.setAttribute("type","image/png"),link_favicon.setAttribute("href","/img/favicon.png"),document.head.appendChild(script),document.head.appendChild(script_sticky),document.head.appendChild(link_favicon);var initialize={index:function(){function e(){var e=$(".main-image__contents DIV.active");0==e.length&&(e=$(".main-image__contents DIV:last"));var a=e.next().length?e.next():$(".main-image__contents DIV:first");e.addClass("last-active"),a.css({opacity:0}).addClass("active").animate({opacity:1},1e3,(function(){e.removeClass("active last-active")}))}var a=$("html").attr("lang");$(".news__individual-wrapper").css("display","block");var t,i,s=window.location.href.split("/").pop(),n;Object.keys(tags).map((function(e){$('a[tag="'+e+'"]').before('<img src="/img/icon_tag_'+e+'.svg" class="news__tag-icon" alt="" >')})),"ja"===a&&$(".tag_name").each((function(){var e=$(this).text();e=$.trim(e);var a=tags[e];$(this).text(a)})),setInterval((function(){e()}),5e3)},news:function(){var e="";"events.html"===(e=""===(e=document.referrer)?"direct":e.match(".+/(.+?)([?#;].*)?$")[1])||"events-en.html"===e?(setTimeout((function(){$(".tag-event").trigger("click")}),0),setTimeout((function(){$(".news__individual-wrapper").css("display","block")}),500)):$(".news__individual-wrapper").css("display","block");var a,t,i=window.location.href.split("/").pop(),s;Object.keys(tags).map((function(e){$('a[tag="'+e+'"]').before('<img src="/img/icon_tag_'+e+'.svg" class="news__tag-icon" alt="" >')})),"news.html"===i&&$(".tag_name").each((function(){var e=$(this).text();e=$.trim(e);var a=tags[e];$(this).text(a)})),$(".post__individual").each((function(){var e=$(this).attr("class");e=(e=(e=(e=e.match(/\[\"(.+?)\"\]/g))[0].match(/\"(.+?)\"/g)).join(" ")).replace(/"/g,""),$(this).addClass(e)}))},post:function(){var e,a=window.location.href.split("/"),t=a.pop(),i;Object.keys(tags).map((function(e){$('a[tag="'+e+'"]').before('<img src="/img/icon_tag_'+e+'.svg" class="news__tag-icon" alt="" >')})),marked($(".markdown-body").html()),a.indexOf("ja")>=0&&$(".tag_name").each((function(){var e=$(this).text();e=$.trim(e);var a=tags[e];$(this).text(a)})),$(document).ready((function(){$("a[href^='http']:not([href*='"+location.hostname+"'])").attr("target","_blank")}))},about:function(){$(".lazy-mail").each((function(){var e=this;setTimeout((function(){var a=jQuery(e),t=a.data("address").split("_at_").join("@").split("_dot_").join(".");a.attr("href","mailto:"+t).text(t)}),1e3)}))},history:function(){var e=$(".table-history").height();$(".history__vertival-line").css("height",e),$(".history__vertival-dotted").css("top",e+12)},funding:function(){},faq:function(){},policy:function(){},logotype:function(){},research:function(){},publications:function(){},references:function(){dispLoading("処理中..."),$.ajax({url:"./json/paper.json",dataType:"json",async:!0,success:function(e){function a(){("en"===document.documentElement.lang||"ja"===document.documentElement.lang)&&$(".publications__wrapper").append(y)}function t(e){location.hash=e;var a=e.replace("%20"," ");$(".main__content-title").text(a),$(".publications__wrapper").empty();var t=[];t=(t=b[a]).filter((e=>"Original"!==e[1]));for(var i="",s=0;s<t.length;s++){const e="NA"===t[s][2]?"NA":`<a href="https://www.ncbi.nlm.nih.gov/pubmed/?term=${t[s][2]}" target="_blank">${t[s][2]}</a>`;let a=new Date(t[s][7]);a=`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,i+='<div class="publications__column__wrapper"><h4 class="publications__column__title">'+t[s][4]+'</h4><p class="publications__column__pubmed"><span class="publications__column__title-small">PubMed: </span>'+e+'</p><p class="publications__column__DOI"><span class="publications__column__title-small">DOI: </span><a href="'+t[s][3]+'">'+t[s][3]+'</a></p><div class="publications__column__wrapper-small"><i class="fa fa-user" aria-hidden="true"></i><p>'+t[s][5]+'</p><i class="fa fa-clock-o" aria-hidden="true"></i><p>'+a+'</p><i class="fa fa-book" aria-hidden="true"></i><p>'+t[s][6]+'</p><i class="fa fa-quote-right" aria-hidden="true"></i><p>'+t[s][1]+"</p></div></div>"}$(".publications__wrapper").append(i)}const i=new Date(e.updated),s=i.getFullYear(),n=i.getMonth(),r=i.getDate();$(".update_date").text(`${s}年${n+1}月${r}日現在`),removeLoading();for(var c=0,o=1,l=2,p=3,m=4,d=5,v=6,u=7,g=e.data,h=[],f=0;f<g.length;f++)h.push(g[f][0]);h=_.rest(h,2),h=_.uniq(h);for(var b={},f=0;f<h.length;f++){var w=h[f];b[w]=g.filter((e=>e[0]===w))}var y="",j=Object.keys(b),k;for(j=j.sort((function(e,a){return b[a].length-b[e].length})),y+='<table class="papers_citing_table"><tbody>',f=0;f<j.length;f++){var x=b[j[f]];x=x.filter((e=>"Original"!==e[1]));var C=x.length;y+='<tr><td><div class="filName" data-category="'+j[f]+'">'+j[f]+'</div></td><td><p class="quote_num">'+C+"</p></td></tr>"}(y+="</tbody></table>",a(),$(document).on("click",".filName",(function(){t(j=$(this).html())})),$(document).on("click",".quote_num",(function(){var e=$(this).parent().prev().find("div");t(j=e.html())})),window.addEventListener("hashchange",(function(){var e;""===location.hash?($(".publications__wrapper").empty(),a()):t(location.hash.slice(1))}),!1),""===location.hash)||t(location.hash.slice(1))}})},services:function(){function e(){$.ajax({url:"../json/services.json",dataType:"json",async:!0,success:function(e){function a(e,a){var t=0;if("category"===e)for(var s=0;s<i.length;s++)i[1][s]===a&&(t=s);else if("other"===e)for(var s=0;s<i.length;s++)i[0][s]===a&&(t=s);return t}function t(e){var a=[];return"Y"===n[e][d]&&a.push("database-integration"),"Y"===n[e][v]&&a.push("materials"),"Y"===n[e][_]&&a.push("genome"),"Y"===n[e][u]&&a.push("gene"),"Y"===n[e][g]&&a.push("gene-expression"),"Y"===n[e][h]&&a.push("NGS"),"Y"===n[e][f]&&a.push("disease"),"Y"===n[e][b]&&a.push("natural-language-processing"),"Y"===n[e][w]&&a.push("SPARQL"),"Y"===n[e][y]&&a.push("RDF-creation"),"Y"===n[e][j]&&a.push("biologist"),"Y"===n[e][k]&&a.push("application"),"Y"===n[e][x]&&a.push("data-scientist"),"Y"===n[e][C]&&a.push("provider"),a}for(var i=e,s=a("other","掲載"),n=i.filter((e=>"Y"===e[s])),r="",c=a("other","services_name_en"),o=a("other","services_name_ja"),l=a("other","explanation_ja"),p=a("other","explanation_en"),m=a("other","URL"),d=a("category","Database integration/データベース統合"),v=a("category","Materials/教材・資料"),_=a("category","Genome/ゲノム"),u=a("category","Gene/遺伝子"),g=a("category","Gene expression/遺伝子発現"),h=a("category","NGS"),f=a("category","Disease/疾患"),b=a("category","Natural language processing/自然言語処理"),w=a("category","SPARQL Search/SPARQL検索"),y=a("category","RDF creation/RDF作成"),j=a("category","Database user/データベース利用者"),k=a("category","Database application developer (REST API, SPARQL)/アプリケーション開発者 (REST API, SPARQL)"),x=a("category","Data scientist/大規模データ解析者 (一括DL)"),C=a("category","Data provider/データ所有者"),D=a("other","画像"),R={"database-integration":{ja:"データベース統合",en:"Database integration"},materials:{ja:"教材・資料",en:"Materials"},genome:{ja:"ゲノム",en:"Genome"},gene:{ja:"遺伝子",en:"Gene"},"gene-expression":{ja:"遺伝子発現",en:"Gene expression"},NGS:{ja:"NGS",en:"NGS"},disease:{ja:"疾患",en:"Disease"},"natural-language-processing":{ja:"自然言語処理",en:"Natural language processing"},SPARQL:{ja:"SPARQL検索",en:"SPARQL Search"},"RDF-creation":{ja:"RDF作成",en:"RDF creation"},biologist:{ja:"データベース利用者",en:"Database user"},application:{ja:"アプリケーション開発者",en:"Database application developer"},"data-scientist":{ja:"大規模データ解析者",en:"Data scientist"},provider:{ja:" データ所有者",en:"Data provider"}},S=0;S<n.length;S++){var I=t(S),L=I.join(" ");function T(e,a){var t='<div class="tag_wrapper">';if("ja"===a)for(var i=0;i<e.length;i++){var s;let a="";"biologist"!==(s=e[i])&&"application"!==s&&"data-scientist"!==s&&"provider"!==s||(a="user"),t+='<div class="service_category card '+a+" tag_element "+e[i]+'">'+R[s].ja+"</div>"}else if("en"===a)for(var i=0;i<e.length;i++){var s;let a="";"biologist"!==(s=e[i])&&"application"!==s&&"data-scientist"!==s&&"provider"!==s||(a="user"),t+='<div class="service_category card '+a+" tag_element "+e[i]+'">'+R[s].en+"</div>"}return t+="</div>"}var Y=n[S][c];-1!==(Y=Y.replace(/ /g,"_")).indexOf("/")&&(Y=encodeURIComponent(Y));var A=$("html").attr("lang");"ja"===A?r+='<article class="article__section contener-type-box mix '+L+'"><div id="repos_image0" class="repos_image"><a href="'+n[S][m]+'" target="_blank"><img src="./img/service_assets/'+n[S][D]+'" alt="'+n[S][c]+'" class="object-fit-img img_services" /></a></div><div id="repos_name'+S+'" class="repos_name"><p class="name name_ja" id="'+n[S][c]+'">'+n[S][o]+'</p><div class="keyword"><p>'+n[S][l]+"</p></div>"+T(I,"ja")+'<div class="btn-box"><a class="page_btn more_btn" target="_blank" href="#'+Y+'">詳細</a><a href="'+n[S][m]+'" class="page_btn access_btn" target="_blank">アクセス</a></div></div>':"en"===A&&(r+='<article class="article__section contener-type-box mix '+L+'"><div id="repos_image0" class="repos_image"><a href="'+n[S][m]+'" target="_blank"><img src="./img/service_assets/'+n[S][D]+'" alt="'+n[S][c]+'" class="object-fit-img img_services" /></a></div><div id="repos_name'+S+'" class="repos_name"><p class="name name_en" id="'+n[S][c]+'">'+n[S][c]+'</p><div class="keyword"><p>'+n[S][p]+"</p></div>"+T(I,"en")+'<div class="btn-box"><a class="page_btn more_btn" target="_blank" href="#'+Y+'">more</a><a href="'+n[S][m]+'" class="page_btn access_btn" target="_blank">Access</a></div></div>'),r+="</article>"}$("#service_list").append(r);var G=document.querySelector(".service__wrapper");mixitup(G,{multifilter:{enable:!0},debug:{enable:!0},callbacks:{onMixStart:function(e,a){$('[data-filter=".mix"]').removeClass("active"),window.scrollTo({top:0,left:0,behavior:"smooth"})}}})}})}function a(e){$("title").text(`${decodeURIComponent(e.replace(/\_/g," "))} | DBCLS`),$("html,body").scrollTop(0);var a="";$.ajax({type:"get",url:"../json/services.json",dataType:"json"}).done((function(a){function t(e){for(var a=0,t=0;t<n.length;t++)n[0][t]===e&&(a=t);return a}function i(e){for(var a="",t=[],i=0;i<c.length;i++){var s=c[i][o],n=c[i][l];s===(e=e.replace(/_/g," "))&&(a=c[i][l])}for(var i=0;i<c.length;i++){var s=c[i][o],n;c[i][l]===a&&t.push(c[i][o])}return t}function s(e){$.ajax({type:"get",url:"./services/"+e+".md"}).done((function(e){var a="";a=marked(e),$(".service__wrapper").append($("<div/>").attr({class:"markdown-body"}).html(a))}))}var n=a,r=t("掲載"),c=n.filter((e=>"Y"===e[r])),o=t("services_name_en"),l=t("services_name_ja"),p=(e=decodeURIComponent(e)).replace("_ja",""),m=i(p=p.replace("_en","")),d=[];m.forEach((function(a){a=(a=a.replace(/ /g,"_")).replace(/\//g,"_"),"_ja"===e.slice(-3)?a+="_ja":"_en"===e.slice(-3)&&(a+="_en"),d.push(a)})),$(".service__wrapper").empty(),d.map((e=>{var a,t,i,n="",r;s(e+"_"+(n=window.location.href.split("/").pop().match(/services-en\.html/)?"en":"ja"))}))}))}var t="",i,s,n,r=window.location.href.split("/").pop();r.match(/#[\w_]/)?(r=(r=r.replace("services.html#","")).replace("services-en.html#",""),$(".facet_section").addClass("off"),a(r)):e(),window.addEventListener("hashchange",(function(){if(""===location.hash){$(".facet_section").removeClass("off"),$(".service__wrapper").empty();var t=document.querySelector(".service__wrapper"),i;mixitup(t,{multifilter:{enable:!0},debug:{enable:!0}}).destroy(),e()}else{var s=location.hash.slice(1);$(".facet_section").addClass("off"),a(s)}}),!1)},events:function(){$(".news__individual-wrapper").css("display","block");var e,a,t=window.location.href.split("/").pop(),i;Object.keys(tags).map((function(e){$('a[tag="'+e+'"]').before('<img src="/img/icon_tag_'+e+'.svg" class="news__tag-icon" alt="" >')}));var s=$("html").attr("lang");"ja"===s&&$(".tag_name").each((function(){var e=$(this).text();e=$.trim(e);var a=tags[e];$(this).text(a)})),$.ajax({url:"../json/services.json",dataType:"json",async:!0,success:function(e){function a(e){for(var a=0,i=0;i<t.length;i++)t[0][i]===e&&(a=i);return a}var t=e,i=a("Event掲載"),n=a("services_name_en"),r=a("explanation_ja"),c=a("explanation_en"),o=a("画像"),l=0,p=a("URL"),m,d,v=window.location.href.split("/").pop(),t=t.filter((e=>"Y"===e[i]));"ja"===s?l=r:"en"===s&&(l=c);for(var _="",u=0;u<t.length;u++)_+='<article class="article__section event__section-ja"><div class="article__section__inner"><h4>'+t[u][n]+"</h4><p>"+t[u][l]+'</p><a href = "'+t[u][p]+'" class = "page_btn more_btn" > more </a></div></article>';$(".section-wrapper").append(_)}});var n=document.getElementById("main__contents-event").clientHeight;$("ul.sub__navigation-wrapper li").on("click",(function(){$("ul.sub__navigation-wrapper li").removeClass("active"),$(this).addClass("active")})),$(".sub_2").on("click",(function(){window.scrollTo(0,n)})),$(".sub_1").on("click",(function(){window.scrollTo(0,0)})),$(window).scroll((function(){$(this).scrollTop()>n?($("ul.sub__navigation-wrapper li.sub_1").removeClass("active"),$("ul.sub__navigation-wrapper li.sub_2").addClass("active")):$(this).scrollTop()<n&&($("ul.sub__navigation-wrapper li.sub_2").removeClass("active"),$("ul.sub__navigation-wrapper li.sub_1").addClass("active"))}))},members:function(){$.when($.getJSON("../json/members.json"),$.getJSON("../json/services.json")).done((function(e,a){function t(e,a,t,i){var s="";return e?("Mail"===t?e="mailto:"+e:"GitHub"===t?e="https://github.com/"+e:"ORCID"===t?e="https://orcid.org/"+e:"researchmap"===t&&(e="en"===i?" https://researchmap.jp/"+e+"?lang=en":" https://researchmap.jp/"+e),s='<a href="'+e+'" class="'+a+'" target="_blank">'+t+"</a>"):s="",s}function i(a){for(var t=0,i=1;i<e.length;i++)e[0][i]===a&&(t=i);return t}var s=$("html").attr("lang"),n="",r="",c="",o="",l="",p="";e=e[0];for(var m=i("name ja"),d=i("name en"),v=i("画像"),_=i("position_ja"),u=i("position_en"),g=i("keyword"),h=i("keyword-en"),f=i("ORCID"),b=i("Researchmap"),w=i("Google Scholar"),y=i("github"),j=i("mail"),k=i("Website"),x=i("いずれのIDも掲載しない"),C=1;C<e.length;C++)e[C][_].match(/客員/)||e[C][_].match(/外来/)?l+='<li><a href="#'+e[C][m]+'">'+e[C][m]+"</a></li>":c+='<li><a href="#'+e[C][m]+'">'+e[C][m]+"</a></li>";for(var C=1;C<e.length;C++)e[C][_].match(/客員/)||e[C][_].match(/外来/)?p+='<li><a href="#'+e[C][d]+'">'+e[C][d]+"</a></li>":o+='<li><a href="#'+e[C][d]+'">'+e[C][d]+"</a></li>";if("ja"===s){$("#memberList").append(c),$("#memberList-collaborators").append(l);for(var D=1;D<e.length;D++){var R=e[D][m],S=e[D][d],I=e[D][v],L=e[D][_],T=e[D][g],Y=e[D][f],A=e[D][b],G=e[D][w],O=e[D][y],P=e[D][j],E=e[D][k],N=e[D][x],q=t(P,"btn-mail","Mail")+t(O,"btn-github","GitHub")+t(Y,"btn-orcid","ORCID")+t(A,"btn-researchmap","researchmap")+t(G,"btn-gs","Google Scholar")+t(E,"btn-web","Website");"Yes"===N&&(q=t(P,"btn-mail","Mail")),L.match(/客員/)||L.match(/外来/)?r+='<div class="content__member" id="'+R+'"><div class="repos_image"><img src="./img/member/'+I+'" alt="'+R+'" class="img_member"></div><ul><li class="position">'+L+'</li><li class="repos_name"><span class="name_ja">'+R+'</span><span class="name_en">'+S+'</span></li><li class="keyword">'+T+'</li><li class="PIC">担当サービス：<div class="member-list__services"></div></li><li class="links"><div class="btn-box">'+q+"</div></li></ul></div>":n+='<div class="content__member" id="'+R+'"><div class="repos_image"><img src="./img/member/'+I+'" alt="'+R+'" class="img_member"></div><ul><li class="position">'+L+'</li><li class="repos_name"><span class="name_ja">'+R+'</span><span class="name_en">'+S+'</span></li><li class="keyword">'+T+'</li><li class="PIC">担当サービス：<div class="member-list__services"></div></li><li class="links"><div class="btn-box">'+q+"</div></li></ul></div>"}}else if("en"===s){$("#memberList").append(o),$("#memberList-collaborators").append(p);for(var D=1;D<e.length;D++){var R=e[D][m],S=e[D][d],I=e[D][v],L=e[D][u],T=e[D][g],M=e[D][h],Y=e[D][f],A=e[D][b],G=e[D][w],O=e[D][y],P=e[D][j],E=e[D][k],N=e[D][x],q="";q=t(P,"btn-mail","Mail")+t(O,"btn-github","GitHub")+t(Y,"btn-orcid","ORCID")+t(A,"btn-researchmap","researchmap","en")+t(G,"btn-gs","Google Scholar")+t(E,"btn-web","Website"),"Yes"===N&&(q=t(P,"btn-mail","Mail")),L.match(/Guest/)||L.match(/Visiting/)?r+='<div class="content__member" id="'+S+'"><div class="repos_image"><img src="./img/member/'+I+'" alt="'+S+'" class="img_member"></div><ul><li class="position">'+L+'</li><li class="repos_name"><span class="name_ja">'+R+'</span><span class="name_en">'+S+'</span></li><li class="keyword">'+M+'</li><li class="PIC">Responsible for：<div class="member-list__services"></div></li><li class="links"><div class="btn-box">'+q+"</div></li></ul></div>":n+='<div class="content__member" id="'+S+'"><div class="repos_image"><img src="./img/member/'+I+'" alt="'+S+'" class="img_member"></div><ul><li class="position">'+L+'</li><li class="repos_name"><span class="name_ja">'+R+'</span><span class="name_en">'+S+'</span></li><li class="keyword">'+M+'</li><li class="PIC">Responsible for：<div class="member-list__services"></div></li><li class="links"><div class="btn-box">'+q+"</div></li></ul></div>"}}$("#member-list").append(n),$("#member-list-collaborators").append(r),a=(a=a[0]).filter((e=>"Y"===e[1])),$(".btn-mail").each((function(){const e=$(this).attr("href").replace("mailto:","");let t=a.filter((a=>a[8]===e||a[9]===e||a[10]===e)).map((e=>e[4]));if(t.length>0){var i=$(this).parent().parent().siblings(".PIC").find(".member-list__services");$(i).text(t.join(",").replace(/,/g,", "))}else{var i=$(this).parent().parent().siblings(".PIC");$(i).remove()}}))})),$(document).on("click","#memberList li a",(function(){setTimeout((function(){var e,a,t=$(window).scrollTop()-.4*$(window).height();$(window).scrollTop(t)}),0)}))},access:function(){var e=document.getElementById("main__contents-kashiwa").clientHeight;$("ul.sub__navigation-wrapper li").on("click",(function(){$("ul.sub__navigation-wrapper li").removeClass("active"),$(this).addClass("active")})),$(".sub_2").on("click",(function(){window.scrollTo(0,e)})),$(".sub_1").on("click",(function(){window.scrollTo(0,0)})),$(window).scroll((function(){$(this).scrollTop()>e?($("ul.sub__navigation-wrapper li.sub_1").removeClass("active"),$("ul.sub__navigation-wrapper li.sub_2").addClass("active")):$(this).scrollTop()<e&&($("ul.sub__navigation-wrapper li.sub_2").removeClass("active"),$("ul.sub__navigation-wrapper li.sub_1").addClass("active"))}))},contact:function(){}};script.addEventListener("load",(function(){$((function(){var e=$("html").attr("data-page-type");initialize[e]();var a={index:"index",post:"index",news:"index",about:"about",history:"about",faq:"about",policy:"about",logotype:"about",research:"research",publications:"research",services:"services",references:"services",events:"events",members:"members",access:"access",contact:"contact"},t="",i,s="";Object.keys(a).map((i=>{i===e&&(t=a[e])})),$(".header__nav__contents"+(s="."+t)).find("a").css("border-bottom","2px solid white");var n=window.location,r=n.href;$(".lang-en span").on("click",(function(){if(r.match(/\/ja\/\d+\/\d+\/\d+\//))window.location.href=r.replace("/ja/","/en/");else if(n.href.match(/services\.html#/)){var a,a=(a=n.href).replace("services.html","services-en.html");window.location.href=a}else{var a=e+"-en.html";window.location.href=a}})),$(".lang-ja span").on("click",(function(){if(r.match(/\/en\/\d+\/\d+\/\d+\//))window.location.href=r.replace("/en/","/ja/");else if(n.href.match(/services-en\.html#/)){var a,a=(a=n.href).replace("services-en.html","services.html");window.location.href=a}else{var a=e+".html";window.location.href=a}}));var c=document.querySelectorAll(".sticky");Stickyfill.add(c)}))}));